<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常见问题 | bemzhao</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/img/favicon.ico">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="随缘记录一些生活或者工作上的事情">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#2196f3">
    <link rel="preload" href="/assets/css/0.styles.d24e715f.css" as="style"><link rel="preload" href="/assets/js/app.8d441818.js" as="script"><link rel="preload" href="/assets/js/2.8b5db16f.js" as="script"><link rel="preload" href="/assets/js/3.d57516cd.js" as="script"><link rel="preload" href="/assets/js/11.f5f1a4dd.js" as="script"><link rel="prefetch" href="/assets/js/10.7103cc76.js"><link rel="prefetch" href="/assets/js/12.0f57b9d3.js"><link rel="prefetch" href="/assets/js/13.613b01fd.js"><link rel="prefetch" href="/assets/js/14.d10f3583.js"><link rel="prefetch" href="/assets/js/15.79f226d4.js"><link rel="prefetch" href="/assets/js/4.c88b9734.js"><link rel="prefetch" href="/assets/js/5.cae00b9e.js"><link rel="prefetch" href="/assets/js/6.0db56cc9.js"><link rel="prefetch" href="/assets/js/7.b8bf3c0c.js"><link rel="prefetch" href="/assets/js/8.1ce13b60.js"><link rel="prefetch" href="/assets/js/9.ee27298e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d24e715f.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">bemzhao</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div><div class="nav-item"><a href="/categories/" class="nav-link">分类</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <a href="https://github.com/bemzhao" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/logo.jpg"> <div class="blogger-info"><h3>bemzhao</h3> <span>前端界的小学生</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div><div class="nav-item"><a href="/categories/" class="nav-link">分类</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <a href="https://github.com/bemzhao" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>常见问题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/1f75f0/#css" class="sidebar-link">CSS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/1f75f0/#什么是-bfc" class="sidebar-link">什么是 BFC</a></li></ul></li><li><a href="/pages/1f75f0/#js" class="sidebar-link">JS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/1f75f0/#原型、构造函数、实例" class="sidebar-link">原型、构造函数、实例</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#继承" class="sidebar-link">继承</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#宏任务与微任务" class="sidebar-link">宏任务与微任务</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#通过-var-定义全局变量与在-window-对象上直接定义属性的区别" class="sidebar-link">通过 var 定义全局变量与在 window 对象上直接定义属性的区别</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#闭包" class="sidebar-link">闭包</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#event-currenttarget-和-event-target-的区别" class="sidebar-link">event.currentTarget 和 event.target 的区别</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#js-添加、移除、复制、创建、和查找节点" class="sidebar-link">Js 添加、移除、复制、创建、和查找节点</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#如何去掉-options-请求" class="sidebar-link">如何去掉 Options 请求</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#如何判断对象内的属性是自有属性还是继承属性" class="sidebar-link">如何判断对象内的属性是自有属性还是继承属性</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#在地址栏里输入一个-url-到这个页面呈现出来-中间会发生什么" class="sidebar-link">在地址栏里输入一个 URL，到这个页面呈现出来，中间会发生什么？</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#强缓存和协商缓存的区别" class="sidebar-link">强缓存和协商缓存的区别</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#常见的数组去重" class="sidebar-link">常见的数组去重</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#改变函数内部的-this-指针的指向" class="sidebar-link">改变函数内部的 this 指针的指向</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#es6-常问" class="sidebar-link">ES6 常问</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#防抖、节流基本实现原理" class="sidebar-link">防抖、节流基本实现原理</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#promise-如何取消-在-axios-中如何暂停" class="sidebar-link">Promise 如何取消，在 axios 中如何暂停</a></li></ul></li><li><a href="/pages/1f75f0/#vue" class="sidebar-link">Vue</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/1f75f0/#v-model-原理" class="sidebar-link">v-model 原理</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#nexttick-使用场景和原理" class="sidebar-link">nextTick 使用场景和原理</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#实现双向绑定的方法" class="sidebar-link">实现双向绑定的方法</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#vue-router-路由模式有几种" class="sidebar-link">vue-router 路由模式有几种？</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#导航守卫" class="sidebar-link">导航守卫</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#导航解析流程" class="sidebar-link">导航解析流程</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#vue-组件间通信有哪几种方式" class="sidebar-link">Vue 组件间通信有哪几种方式？</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#computed-和-watch-的区别和运用的场景" class="sidebar-link">computed 和 watch 的区别和运用的场景？</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#有哪些-vue-的性能优化" class="sidebar-link">有哪些 Vue 的性能优化</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#keep-alive" class="sidebar-link">keep-alive</a></li></ul></li><li><a href="/pages/1f75f0/#react" class="sidebar-link">React</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/1f75f0/#react-的-setstate-什么时候是同步什么时候是异步" class="sidebar-link">React 的 setState 什么时候是同步什么时候是异步</a></li><li class="sidebar-sub-header"><a href="/pages/1f75f0/#使用-react-hooks-好处是啥" class="sidebar-link">使用 React Hooks 好处是啥？</a></li></ul></li></ul></section></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- 正方形 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-70a2d273><div class="articleInfo" data-v-70a2d273><!----> <div class="info" data-v-70a2d273><div title="作者" class="author iconfont icon-touxiang" data-v-70a2d273><a href="https://github.com/bemzhao" target="_blank" title="作者" class="beLink" data-v-70a2d273>bemzhao</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-70a2d273><a href="javascript:;" data-v-70a2d273>2021-08-24</a></div> <div title="分类" class="date iconfont icon-wenjian" data-v-70a2d273><a href="/categories/?category=%E9%9A%8F%E7%AC%94" data-v-70a2d273>随笔 </a></div></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">
          常见问题
        </h1> <div class="page-slot page-slot-top"><!-- 固定100% * 90px可显示，max-height:90px未见显示-->
     <ins class="adsbygoogle"
          style="display:inline-block;width:100%;max-height:90px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6625304284"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="theme-vdoing-content content__default"><h2 id="css"><a href="#css" class="header-anchor">#</a> CSS</h2> <details><summary><h3 id="什么是-bfc"><a href="#什么是-bfc" class="header-anchor">#</a> 什么是 BFC</h3></summary> <p>BFC 全称为 块格式化上下文 (Block Formatting Context)</p> <p>一个块格式化上下文由以下之一创建：</p> <ul><li>根元素或其它包含它的元素</li> <li>浮动元素 (元素的 float 不是 none)</li> <li>绝对定位元素 (元素具有 position 为 absolute 或 fixed)</li> <li>内联块 (元素具有 display: inline-block)</li> <li>表格单元格 (元素具有 display: table-cell，HTML 表格单元格默认属性)</li> <li>表格标题 (元素具有 display: table-caption, HTML 表格标题默认属性)</li> <li>具有 overflow 且值不是 visible 的块元素</li> <li>display: flow-root</li> <li>column-span: all 应当总是会创建一个新的格式化上下文，即便具有 column-span: all 的元素并不被包裹在一个多列容器中</li> <li>一个块格式化上下文包括创建它的元素内部所有内容，除了被包含于创建新的块级格式化上下文的后代元素内的元素</li></ul> <p><strong>BFC 是一个特性，不是什么特别的定义，两个主要作用</strong></p> <ul><li>使 BFC 内部脱离文档流的元素不会到处乱跑；</li> <li>和浮动元素产生边界。</li></ul></details> <br> <h2 id="js"><a href="#js" class="header-anchor">#</a> JS</h2> <details><summary><h3 id="原型、构造函数、实例"><a href="#原型、构造函数、实例" class="header-anchor">#</a> 原型、构造函数、实例</h3></summary> <p><img src="/img/1631425894885.png" alt="原型、构造函数、实例三者关系图"></p> <ul><li>构造函数通过 <code>prototype</code> 指向原型对象</li> <li>原型对象通过 <code>constructor</code> 指回构造函数</li> <li>构造函数通过 <code>new</code> 创建实例对象</li> <li>实例对象通过 <code>__proto__</code> 指向原型对象，实例对象能够访问原型对象上的所有属性和方法</li> <li>实例对象通过原型对象又指回构造函数 <code>__proto__.constructor</code></li> <li>new 将构造函数内部的 <code>this</code> 指向创建出来的实例对象</li></ul> <p>ldh.proto === Star.prototype // true
Star.prototype.constructor === Star // true
Object.prototype === ldh.proto.proto // true
在 es6 中可以用 Object.getPrototypeOf(ldh) 来代替 ldh.proto</p></details> <details><summary><h3 id="继承"><a href="#继承" class="header-anchor">#</a> 继承</h3></summary> <ol><li>原型链继承</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token constant">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token constant">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token class-name">B</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 在 prototype 上创建实例对象，此时 B 就可以拿到实例属性 a 和 say 方法</span>
<span class="token comment">// 因为实例对象可以拿到原型对象上面的属性和方法</span>

<span class="token comment">// 缺点：引用值共享问题，假设 a 是个数组</span>
<span class="token keyword">function</span> <span class="token constant">A</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> test1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> test2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
test1<span class="token punctuation">.</span>a<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test1<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// [1, 2, 3, 4, 5]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test2<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// [1, 2, 3, 4, 5]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><br> <ol start="2"><li>构造函数继承</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token constant">A</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token constant">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token constant">A</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 将 A 的 this 强绑定到 B 上</span>
<span class="token punctuation">}</span>

<span class="token comment">// 缺点：没办法拿到原型上的方法</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><br> <ol start="3"><li>组合继承</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 接上述代码</span>
<span class="token comment">// 。。。。。。</span>

<span class="token keyword">function</span> <span class="token constant">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token constant">A</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">B</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 缺点：A 执行了两次，this.a 被 A.call(this); 覆盖了一次</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><br> <ol start="4"><li>寄生组合继承</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 接上述代码</span>
<span class="token comment">// 不通过 new 实例继承原型，而是 Object.create，该方法返回指定对象的原型</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Object<span class="token punctuation">.</span>create<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function-variable function">create</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">proto</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> proto<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">B</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></details> <details><summary><h3 id="宏任务与微任务"><a href="#宏任务与微任务" class="header-anchor">#</a> 宏任务与微任务</h3></summary> <p>Js 是单线程，同一时间只能做一件事，防止主线程的不阻塞，Event Loop 的方案应用而生，Event Loop 是通过任务队列的机制来进行协调的，有以下几点：</p> <ul><li>JS 分为同步任务和异步任务</li> <li>同步任务都在主线程上执行，形成一个执行栈</li> <li>主线程之外，事件触发线程管理着一个任务队列，只要异步任务有了运行结果，就在任务队列之中放置一个事件。</li> <li>一旦执行栈中的所有同步任务执行完毕（此时 JS 引擎空闲），系统就会读取任务队列，将可运行的异步任务添加到可执行栈中，开始执行。</li></ul> <p><strong>宏任务 macro task</strong>
可以理解是每次执行栈执行的代码就是一个宏任务（包括每次从事件队列中获取一个事件回调并放到执行栈中执行）。浏览器为了能够使得 JS 内部(macro)task 与 DOM 任务能够有序的执行，会在一个(macro)task 执行结束后，在下一个(macro)task 执行开始前，对页面进行重新渲染</p> <p>宏任务包括:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>script(整体代码)
setTimeout
setInterval
postMessage
DOM 事件
Ajax
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>微任务 micro task</strong></p> <p>可以理解是在当前 task 执行结束后立即执行的任务。也就是说，在当前 task 任务后，下一个 task 之前，在渲染之前。</p> <p>所以它的响应速度相比 setTimeout 会更快，因为无需等渲染。也就是说，在某一个宏任务执行完后，就会将在它执行期间产生的所有微任务都执行完毕（在渲染前）。</p> <p>微任务包括:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Promise.then
async/await
Object.observe
MutaionObserver
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></details> <details><summary><h3 id="通过-var-定义全局变量与在-window-对象上直接定义属性的区别"><a href="#通过-var-定义全局变量与在-window-对象上直接定义属性的区别" class="header-anchor">#</a> 通过 var 定义全局变量与在 window 对象上直接定义属性的区别</h3></summary> <p>关于 window</p> <ul><li>所有 JavaScript 全局对象、函数以及变量均自动成为 window 对象的成员。</li> <li>全局变量是 window 对象的属性。</li> <li>全局函数是 window 对象的方法。</li> <li>所有在全局作用域中声明的变量、函数都会变成 window 对象的属性和方法</li></ul> <p>区别如下：</p> <ol><li>全局变量不能通过 delete 删除，而 window 属性上定义的变量可以通过 delete 删除</li> <li>尝试访问未声明的变量不会报错，只会显示 undefined，而 window 会报错</li> <li>在函数中使用 var 定义的变量是局部变量，有时想要在外部也访问到函数里面的变量，就需要定义 window 对象属性</li></ol></details> <details><summary><h3 id="闭包"><a href="#闭包" class="header-anchor">#</a> 闭包</h3></summary> <p>闭包就是能够读取其他函数内部变量的函数。</p> <p>因为只有函数内部的子函数才能读取局部变量，因此可以把闭包简单理解成&quot;定义在一个函数内部的函数&quot;。
所以，在本质上，闭包就是将函数内部和函数外部连接起来的一座桥梁。</p> <p>最大用处有两个：</p> <ol><li>可以读取函数内部的变量</li> <li>让这些变量的值始终保持在内存中。</li></ol></details> <details><summary><h3 id="event-currenttarget-和-event-target-的区别"><a href="#event-currenttarget-和-event-target-的区别" class="header-anchor">#</a> event.currentTarget 和 event.target 的区别</h3></summary> <p>两个属性都是监听事件触发的目标</p> <p>event.currentTarget 会返回当前触发事件的元素</p> <p>event.target 会返回触发事件的源头元素。</p></details> <details><summary><h3 id="js-添加、移除、复制、创建、和查找节点"><a href="#js-添加、移除、复制、创建、和查找节点" class="header-anchor">#</a> Js 添加、移除、复制、创建、和查找节点</h3></summary> <ul><li>createElement() // 创建一个具体的元素</li> <li>createTextNode() // 创建一个文本节点</li> <li>removeChild() // 移除</li> <li>replaceChild() // 替换</li> <li>insertBefore() // 插入</li> <li>getElementsByTagName() // 通过标签名获取元素</li> <li>getElementsByName() // 通过元素的 name 属性获取元素</li> <li>getElementById() // 通过元素 id 获取元素</li></ul></details> <details><summary><h3 id="如何去掉-options-请求"><a href="#如何去掉-options-请求" class="header-anchor">#</a> 如何去掉 Options 请求</h3></summary> <p>跨域资源共享中，对于非简单请求（那种对服务器有特殊要求的请求，比如请求方法是 PUT 或 DELETE，或者 Content-Type 字段的类型是 application/json），会在发送真正的请求之前，发送一次 Options 预检请求。因此只要将非简单请求改为简单请求即可。</p> <p>只要同时满足以下两大条件，就属于简单请求。</p> <ol><li>请求方法是以下三种方法之一：</li></ol> <ul><li>HEAD</li> <li>GET</li> <li>POST</li></ul> <ol start="2"><li>HTTP 的头信息不超出以下几种字段：</li></ol> <ul><li>Accept</li> <li>Accept-Language</li> <li>Content-Language</li> <li>Last-Event-ID</li> <li>Content-Type：只限于三个值 application/x-www-form-urlencoded、multipart/form-data、text/plain</li></ul> <p>通常在使用 axios 时，axios 会将 JavaScript 对象序列化为 JSON 来发送，也就是说会使用 ‘application/json’作为 Content-Type，可以用 qs 库来处理 post 的 data</p></details> <details><summary><h3 id="如何判断对象内的属性是自有属性还是继承属性"><a href="#如何判断对象内的属性是自有属性还是继承属性" class="header-anchor">#</a> 如何判断对象内的属性是自有属性还是继承属性</h3></summary> <p>hasOwnProperty() 返回 true 的是自有属性</p> <p>凡是构造函数的原型属性（原型对象包含的属性），都是继承属性，使用 hasOwnProperty() 方法检测时，都会返回 false。但是对于原型对象本身来说，这些原型属性又是原型对象的自有属性，所以返回值又是 true。</p></details> <details><summary><h3 id="在地址栏里输入一个-url-到这个页面呈现出来-中间会发生什么"><a href="#在地址栏里输入一个-url-到这个页面呈现出来-中间会发生什么" class="header-anchor">#</a> 在地址栏里输入一个 URL，到这个页面呈现出来，中间会发生什么？</h3></summary> <ol><li>浏览器根据请求的 URL 会先寻找缓存，查看浏览器或系统缓存中是否有记录，如果没有记录就交给 DNS 域名解析，找到真实的 IP，通过三次握手建立 TCP/IP 连接向服务器发起请求；</li> <li>服务器进行安全验证是否允许访问，然后交给后台处理完成后返回数据，浏览器接收文件（HTML、CSS、JavaScript 等）；</li> <li>浏览器对加载到的资源（HTML、CSS、JavaScript 等）进行语法解析，构建相应的内部数据结构（DOM 树、CSS 树、render 树等）；</li> <li>载入解析到的资源文件、渲染页面。</li></ol></details> <details><summary><h3 id="强缓存和协商缓存的区别"><a href="#强缓存和协商缓存的区别" class="header-anchor">#</a> 强缓存和协商缓存的区别</h3></summary> <p>浏览器缓存：</p> <p>浏览器缓存是浏览器在本地磁盘对用户最近请求过的文档进行存储，当访问者再次访问同一页面时，浏览器就可以直接从本地磁盘加载文档。</p> <p>主要区别：</p> <ul><li>强制缓存只有首次请求才会跟服务器通信，读取缓存资源时不会发出任何请求，资源的 Status 状态码为 200。</li> <li>协商缓存每次请求都会与服务器交互，第一次是拿数据和标识的过程，第二次开始，就是浏览器询问服务器资源是否有更新的过程。如果命中缓存，则资源的 Status 状态码为 304。</li></ul></details> <details><summary><h3 id="常见的数组去重"><a href="#常见的数组去重" class="header-anchor">#</a> 常见的数组去重</h3></summary> <p>ES6 Set 去重</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>基本上都是循环之后判断新的数组中是否存在值</p> <p>还有 indexOf()、includes() 等</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'type error!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>array<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            array<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></details> <details><summary><h3 id="改变函数内部的-this-指针的指向"><a href="#改变函数内部的-this-指针的指向" class="header-anchor">#</a> 改变函数内部的 this 指针的指向</h3></summary> <p>call()、apply()、bind()</p> <p>区别在于参数，他们两个的第一个参数都是一样的，表示调用该函数的对象</p> <ul><li>apply 的第二个参数是数组，是 [arg1, arg2, arg3] 这种形式</li> <li>bind 和 call 是 arg1, arg2, arg3 这样的形式。</li> <li>bind 返回的是一个函数</li></ul></details> <details><summary><h3 id="es6-常问"><a href="#es6-常问" class="header-anchor">#</a> ES6 常问</h3></summary> <p><strong>let、const</strong></p> <ul><li>有块级作用域</li> <li>不存在变量提升，只在命令所在的代码块内有效</li> <li>同一个作用域不可声明同一个变量</li></ul> <br> <p><strong>const</strong></p> <p>变量指向的那个内存地址所保存的数据不得改动，但对于复合类型的数据（主要是对象和数组），变量指向的内存地址，保存的只是一个指向实际数据的指针，const 只能保证这个指针是固定的，至于它指向的数据结构是不是可变的，就完全不能控制了</p> <p>因此在对象中添加属性，或者数组中 .push .length = 0 都是可执行的</p> <br> <p><strong>暂时性死区</strong></p> <p>如果区块中存在 let 和 const 命令，这个区块对这些命令声明的变量，从一开始就形成了封闭作用域。</p> <p>凡是在声明之前就使用这些变量，就会报错。</p> <br> <p><strong>数组、对象、字符串的解构赋值</strong></p> <br> <p><strong>字符串的扩展</strong></p> <ul><li>为字符串添加了遍历器接口字符串可以被 for...of 循环遍历</li> <li>模板字符串</li> <li>新增实例方法：includes(), startsWith(), endsWith() ......</li></ul> <br> <p><strong>函数的扩展</strong></p> <ul><li>函数参数的默认值</li> <li>函数的 length 属性，将返回没有指定默认值的参数个数</li> <li>rest 参数（形式为...变量名），是一个数组，用于获取函数的多余参数放入数组中</li> <li>箭头函数，有几个注意点：
<ol><li>箭头函数没有自己的 this 对象，内部的 this 就是定义时上层作用域中的 this</li> <li>不可以当作构造函数，也就是说，不可以对箭头函数使用 new 命令，否则会抛出一个错误</li> <li>不可以使用 arguments 对象，该对象在函数体内不存在，如果要用，可以用 rest 参数代替</li> <li>不可以使用 yield 命令，因此箭头函数不能用作 Generator 函数</li></ol></li></ul> <br> <p><strong>数组的扩展</strong></p> <ul><li>Array.from() 将类似数组的对象和可遍历的对象转为真正的数组，（包括 ES6 新增的数据结构 Set 和 Map）</li> <li>find()、findIndex()</li> <li>includes() 返回一个布尔值，与字符串的 includes 方法类似</li> <li>entries()、keys()、values() 都返回一个遍历器对象，可用 for...of 遍历，分别是 键值对、键名、键值</li> <li>flat()，flatMap() 都对原数据没有影响
<ol><li>flat() 将嵌套的数组“拉平”，变成一维的数组，默认拉平一层，可以传入 Infinity 关键字作为参数，不管有多少层嵌套，都转成一维数组</li> <li>flatMap() 对原数组的每个成员执行一个函数，然后对返回值组成的数组执行 flat()方法</li></ol></li></ul> <br> <p><strong>对象的扩展</strong></p> <ul><li>对象属性的简写</li> <li>属性的遍历：for...in，Object.keys(obj) ......</li> <li>对象的新增方法：
<ol><li>Object.is() 比较两个值是否相等，与严格比较运算符（===）的行为基本一致，不同之处只有两个：一是+0 不等于-0，二是 NaN 等于自身。而严格比较运算符则刚好相反</li> <li>Object.assign() 用于对象的合并</li></ol></li></ul> <br> <p><strong>symbol</strong></p> <p>新的数据类型，本质是一种唯一标识符</p> <ul><li>作为属性名可保证不产生冲突</li> <li>可以显示的转为字符串或者布尔值，但不能转为数值，也不能运算</li> <li>作为属性名的时候不能被 Object.keys() 返回，可以用 Object.getOwnPropertySymbols()</li></ul> <br> <p><strong>Set 数据结构</strong></p> <p>类似于数组，但是成员的值都是唯一的，没有重复的值</p> <p>可以接受一个数组（或者具有 iterable 接口的其他数据结构）作为参数</p> <p>操作方法：add()、delete()、has()、clear()</p> <p>遍历方法：keys()、values()、entries()、forEach()</p> <br> <p><strong>Map 数据结构</strong></p> <p>类似于对象，也是键值对的集合，但是“键”的范围不限于，而字符串传统上只能用字符串当作键</p> <p>操作方法：set()、get()、has()、delete()、clear()</p> <p>遍历方法：keys()、values()、entries()、forEach()</p> <br> <p><strong>Promise</strong></p> <p>异步编程的一种解决方案，链式写法解决回调地狱</p> <ul><li><p>两个特点：</p> <ol><li>对象的状态不受外界影响</li> <li>一旦状态改变，就不会再变</li></ol></li> <li><p>三种状态：</p> <ol><li>pending（进行中）</li> <li>fulfilled（已成功）</li> <li>rejected（已失败）</li></ol></li> <li><p>then() 方法返回的是一个新的 Promise 实例，第一个回调函数完成以后，会将返回结果作为参数，传入第二个回调函数</p></li> <li><p>finally() 方法用于指定不管 Promise 对象最后状态如何，都会执行的操作</p></li> <li><p>Promise.all() 方法用于将多个 Promise 实例，包装成一个新的 Promise 实例，接受一个数组作为参数</p> <ol><li>所有的 Promise 都成功了，才返回成功</li> <li>只要有一个失败了，就返回失败，返回的是第一个失败的实例</li> <li>如果作为参数的 Promise 实例，自己定义了 catch 方法，那么一旦它失败了并不会触发 Promise.all() 的 catch 方法</li></ol></li> <li><p>Promise.race() 和 Promise.all() 一样接受数组并包装成一个新的 Promise 实例，不同在于只要有一个实例的状态发生了改变就返回，无论是成功还是失败</p></li> <li><p>Promise.allSettled() 用来确定一组异步操作是否都结束了（不管成功或失败）</p></li> <li><p>Promise.any()</p> <ol><li>只要参数实例有一个成功，就返回成功</li> <li>如果所有参数实例都失败了，就返回失败</li></ol></li></ul> <br> <p><strong>Generator</strong></p> <p>形式上，Generator 函数是一个普通函数</p> <p>有以下特征：</p> <ol><li>function 关键字与函数名之间有一个星号</li> <li>函数体内部使用 yield 表达式，定义不同的内部状态</li> <li>调用方式和普通函数一样，但返回的是一个遍历器对象，代表 Generator 函数的内部指针</li> <li>遇到 yield 表达式被暂停执行之后，需要用 next 方法恢复执行</li></ol> <br> <p><strong>async</strong></p> <p>async 函数就是 Generator 函数的语法糖</p> <p>写法区别上是将 Generator 函数的星号（*）替换成 async ，将 yield 替换成 await</p> <p>并做了以下改进：</p> <ol><li>内置执行器</li> <li>更好的语义</li> <li>更广的适用性</li> <li>返回值是 Promise</li></ol> <br> <p><strong>Class</strong></p> <ul><li>类的数据类型就是函数，类本身就指向构造函数，类的所有方法都定义在类的 prototype 属性上面，类必须使用 new 调用，否则会报错。这是它跟普通构造函数的一个主要区别，后者不用 new 也可以执行。</li> <li>constructor() 方法是类的默认方法，通过 new 命令生成对象实例时，自动调用该方法。一个类必须有 constructor() 方法，如果没有显式定义，一个空的 constructor() 方法会被默认添加。</li> <li>取值函数（getter）和存值函数（setter）：可以使用 get 和 set 关键字，对某个属性设置存值函数和取值函数，拦截该属性的存取行为。</li> <li>静态方法：类相当于实例的原型，所有在类中定义的方法，都会被实例继承。如果在一个方法前，加上 static 关键字，就表示该方法不会被实例继承，而是直接通过类来调用，但是可以通过 extends 来被子类继承。如果静态方法包含 this 关键字，这个 this 指的是类，而不是实例。</li> <li>实例属性的新写法：实例属性除了定义在 constructor()方法里面的 this 上面，也可以定义在类的最顶层。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">foo</span> <span class="token punctuation">{</span>
    bar <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
    baz <span class="token operator">=</span> <span class="token string">'world'</span><span class="token punctuation">;</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li><p>Class 可以通过 extends 关键字实现继承。</p></li> <li><p>Object.getPrototypeOf() 方法可以用来从子类上获取父类，因此可以使用这个方法判断一个类是否继承了另一个类。</p></li></ul> <br> <p><strong>super 关键字</strong></p> <ul><li>作为函数调用时，代表父类的构造函数。</li> <li>ES6 要求，子类的构造函数必须执行一次 super 函数。</li> <li>作为对象时，在普通方法中，指向父类的原型对象；在静态方法中，指向父类。</li> <li>需要注意的是，由于 super 指向父类的原型对象，所以定义在父类实例上的方法或属性，是无法通过 super 调用的。</li></ul></details> <details><summary><h3 id="防抖、节流基本实现原理"><a href="#防抖、节流基本实现原理" class="header-anchor">#</a> 防抖、节流基本实现原理</h3></summary> <p>本质上是优化高频率执行代码的一种手段，都可以通过 setTimeout 实现。</p> <p>如浏览器的 resize、scroll、keypress、mousemove 等事件在触发时，会不断地调用绑定在事件上的回调函数，极大地浪费资源，降低前端性能。</p> <p>定义：</p> <ul><li>防抖（debounce）：n 秒后再执行该事件，若在 n 秒内被重复触发，则重新计时。</li> <li>节流（throttle）：n 秒内只运行一次，若在 n 秒内重复触发，只有一次生效。</li></ul> <p>代码实现：</p> <p><strong>防抖</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">cb<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> timer<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>节流</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// setTimeout 实现</span>
<span class="token keyword">function</span> <span class="token function">throttle1</span><span class="token punctuation">(</span><span class="token parameter">cb<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> timer<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 时间戳实现</span>
<span class="token keyword">function</span> <span class="token function">throttle2</span><span class="token punctuation">(</span><span class="token parameter">cb<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> startTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> currTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>currTime <span class="token operator">-</span> startTime <span class="token operator">&gt;=</span> delay<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            startTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div></details> <details><summary><h3 id="promise-如何取消-在-axios-中如何暂停"><a href="#promise-如何取消-在-axios-中如何暂停" class="header-anchor">#</a> Promise 如何取消，在 axios 中如何暂停</h3></summary> <blockquote><p>原文链接：<a href="https://juejin.cn/post/6847902216028848141" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/6847902216028848141<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>Promise 一旦创建就无法取消，所以本质上 Promise 是无法被终止的，但是可以通过 Promise.race 中断。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">abortWrapper</span><span class="token punctuation">(</span><span class="token parameter">p1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> abort<span class="token punctuation">;</span>
    <span class="token keyword">let</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>abort <span class="token operator">=</span> reject<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> p <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    p<span class="token punctuation">.</span>abort <span class="token operator">=</span> abort<span class="token punctuation">;</span>
    <span class="token keyword">return</span> p<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> req <span class="token operator">=</span> <span class="token function">abortWrapper</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
req<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> req<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token string">'用户手动终止请求'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这里可以是用户主动点击</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>还有一个场景是中断调用链，就是在某个 then/catch 执行之后，不想让后续的链式调用继续执行了</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>somePromise
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">/**
            返回一个永远 pending 的 promise 
            即可终止 Promise 链，让下面的 then、catch 和 finally 都不执行
        **/</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'then'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'catch'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'finally'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><br> <br> <p>axios 使用 cancel token 取消请求</p> <blockquote><p>原文链接：<a href="https://www.kancloud.cn/yunye/axios/234845" target="_blank" rel="noopener noreferrer">https://www.kancloud.cn/yunye/axios/234845<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>可以使用 CancelToken.source 工厂方法创建 cancel token，像这样：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> CancelToken <span class="token operator">=</span> axios<span class="token punctuation">.</span>CancelToken<span class="token punctuation">;</span>
<span class="token keyword">var</span> source <span class="token operator">=</span> CancelToken<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

axios
    <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user/12345'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        cancelToken<span class="token operator">:</span> source<span class="token punctuation">.</span>token<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">thrown</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>axios<span class="token punctuation">.</span><span class="token function">isCancel</span><span class="token punctuation">(</span>thrown<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Request canceled'</span><span class="token punctuation">,</span> thrown<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 处理错误</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 取消请求（message 参数是可选的）</span>
source<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token string">'Operation canceled by the user.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>还可以通过传递一个 executor 函数到 CancelToken 的构造函数来创建 cancel token：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> CancelToken <span class="token operator">=</span> axios<span class="token punctuation">.</span>CancelToken<span class="token punctuation">;</span>
<span class="token keyword">var</span> cancel<span class="token punctuation">;</span>

axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/user/12345'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    cancelToken<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">CancelToken</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">executor</span><span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// executor 函数接收一个 cancel 函数作为参数</span>
        cancel <span class="token operator">=</span> c<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 取消请求</span>
<span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></details> <br> <h2 id="vue"><a href="#vue" class="header-anchor">#</a> Vue</h2> <details><summary><h3 id="v-model-原理"><a href="#v-model-原理" class="header-anchor">#</a> v-model 原理</h3></summary> <p>通过 v-bind 绑定 value 属性，v-on 监听触发 input 事件并传递数据</p> <p>其底层是通过遍历对象的属性并用 Object.defineProperty() 转为 getter/setter，每个组件实例都对应一个 watcher 实例，它会在组件渲染时将使用的属性记录为依赖，当依赖项变化时，会通知 wather，从而使它关联的组件重新渲染。</p></details> <details><summary><h3 id="nexttick-使用场景和原理"><a href="#nexttick-使用场景和原理" class="header-anchor">#</a> nextTick 使用场景和原理</h3></summary> <p>nextTick 中的回调是在下次 DOM 更新循环结束之后执行的延迟回调。
在修改数据之后立即使用这个方法，获取更新后的 DOM。</p> <p>主要思路就是采用微任务优先的方式调用异步方法去执行 nextTick 包装的方法</p></details> <details><summary><h3 id="实现双向绑定的方法"><a href="#实现双向绑定的方法" class="header-anchor">#</a> 实现双向绑定的方法</h3></summary> <ul><li>v-model</li> <li>.sync 修饰符</li></ul> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-dialog</span> <span class="token attr-name">:visible.sync</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialogVisible<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-dialog</span> <span class="token attr-name">:visible</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialogVisible<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">@update:</span>visible</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(newVisible) =&gt; (dialogVisible = newVisible)<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

// my-dialog 组件在 visible 变化时 this.$emit('update:visible', newVisible) 即可。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>model 属性，定制 prop 和 event</li> <li>vue-better-sync 插件</li></ul></details> <details><summary><h3 id="vue-router-路由模式有几种"><a href="#vue-router-路由模式有几种" class="header-anchor">#</a> vue-router 路由模式有几种？</h3></summary> <ol><li>hash</li> <li>history</li> <li>abstract</li></ol> <ul><li>浏览器下默认为 hash 模式，hash 模式背后的原理是 onhashchange 事件，可以在 window 对象上监听这个事件</li> <li>history 模式依赖 HTML5 History API 和服务器配置，主要利用了 history.pushState() 和 history.repalceState() 两个 API</li> <li>abstract: 支持所有 JavaScript 运行环境，如 Node.js 服务器端。如果发现没有浏览器的 API，路由会自动强制进入这个模式。</li></ul></details> <details><summary><h3 id="导航守卫"><a href="#导航守卫" class="header-anchor">#</a> 导航守卫</h3></summary> <p>全局前置守卫：router.beforeEach((to, from, next) =&gt; {})
全局后置钩子：router.afterEach((to, from) =&gt; {})
路由独享的守卫：beforeEnter: (to, from, next) =&gt; {}
组件内的守卫：</p> <ul><li><p>beforeRouteEnter(to, from, next) {}</p> <p>不能获取组件实例 this，因为当守卫执行前，组件实例还没被创建，但是可以通过传一个回调给 next 来访问组件实例</p></li> <li><p>beforeRouteUpdate(to, from, next) {}</p></li> <li><p>beforeRouteLeave(to, from, next) {}</p></li></ul></details> <details><summary><h3 id="导航解析流程"><a href="#导航解析流程" class="header-anchor">#</a> 导航解析流程</h3></summary> <ul><li>导航被触发。</li> <li>在失活的组件里调用 beforeRouteLeave 守卫。</li> <li>调用全局的 beforeEach 守卫。</li> <li>在重用的组件里调用 beforeRouteUpdate 守卫 (2.2+)。</li> <li>在路由配置里调用 beforeEnter。</li> <li>解析异步路由组件。</li> <li>在被激活的组件里调用 beforeRouteEnter。</li> <li>调用全局的 beforeResolve 守卫 (2.5+)。</li> <li>导航被确认。</li> <li>调用全局的 afterEach 钩子。</li> <li>触发 DOM 更新。</li> <li>调用 beforeRouteEnter 守卫中传给 next 的回调函数，创建好的组件实例会作为回调函数的参数传入。</li></ul></details> <details><summary><h3 id="vue-组件间通信有哪几种方式"><a href="#vue-组件间通信有哪几种方式" class="header-anchor">#</a> Vue 组件间通信有哪几种方式？</h3></summary> <ol><li>props / $emit 适用 父子组件通信</li> <li>ref 与 $parent / $children 适用 父子组件通信</li> <li>EventBus （$emit / $on） 适用于 父子、隔代、兄弟组件通信</li> <li>provide / inject 适用于 隔代组件通信</li> <li>Vuex 适用于 父子、隔代、兄弟组件通信</li></ol></details> <details><summary><h3 id="computed-和-watch-的区别和运用的场景"><a href="#computed-和-watch-的区别和运用的场景" class="header-anchor">#</a> computed 和 watch 的区别和运用的场景？</h3></summary> <p><code>computed</code> 依赖其它属性值，并且 computed 的值有缓存，只有它依赖的属性值发生改变，下一次获取 computed 的值时才会重新计算 computed 的值；
场景：购物车结算</p> <p><code>watch</code> 类似于某些数据的监听回调 ，每当监听的数据变化时都会执行回调进行后续操作；
场景：搜索框展示结果</p></details> <details><summary><h3 id="有哪些-vue-的性能优化"><a href="#有哪些-vue-的性能优化" class="header-anchor">#</a> 有哪些 Vue 的性能优化</h3></summary> <ul><li>对象层级不要过深，否则性能就会差</li> <li>不需要响应式的数据不要放到 data 中（可以用 Object.freeze() 冻结数据）</li> <li>v-if 和 v-show 区分使用场景</li> <li>computed 和 watch 区分使用场景</li> <li>v-for 遍历必须加 key，key 最好是 id 值，且避免同时使用 v-if</li> <li>大数据列表和表格性能优化-虚拟列表/虚拟表格</li> <li>防止内部泄漏，组件销毁后把全局变量和事件销毁</li> <li>图片懒加载</li> <li>路由懒加载</li> <li>第三方插件的按需引入</li> <li>适当采用 keep-alive 缓存组件</li> <li>防抖、节流运用</li> <li>服务端渲染 SSR 或者 预渲染</li></ul></details> <details><summary><h3 id="keep-alive"><a href="#keep-alive" class="header-anchor">#</a> keep-alive</h3></summary> <p>keep-alive 是 vue 中的内置组件，能在组件切换过程中将状态保留在内存中，缓存不活动的组件实例，防止重复渲染 DOM</p> <p>主要有两个生命周期：activated、deactivated</p> <p>beforeRouteEnter 也可以获取数据</p></details> <br> <h2 id="react"><a href="#react" class="header-anchor">#</a> React</h2> <details><summary><h3 id="react-的-setstate-什么时候是同步什么时候是异步"><a href="#react-的-setstate-什么时候是同步什么时候是异步" class="header-anchor">#</a> React 的 setState 什么时候是同步什么时候是异步</h3></summary> <p>setState 并没有异步的说法，之所以会有异步的表现形式，归根结底还是因为 React 框架本身的性能机制所导致的。</p> <p><strong>React 会将多个 setState 的调用合并为一个来执行，当执行 setState 的时候，state 中的数据并不会马上更新</strong></p> <p>如果需要同步的获取到更新之后的数据，可以通过：</p> <ol><li>回调函数</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>state <span class="token operator">=</span> <span class="token punctuation">{</span>
    number<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> number<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><br> <ol start="2"><li>setTimeout</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>state <span class="token operator">=</span> <span class="token punctuation">{</span>
    number<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> number<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><br> <ol start="3"><li>原生事件中修改状态</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>state <span class="token operator">=</span> <span class="token punctuation">{</span>
    number<span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>changeVal<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function-variable function">changeVal</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> number<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>number<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><br> <p>总结一句话就是，setState 本身并不是异步，只是因为 React 的性能优化机制体现为异步。</p> <p>在 React 的生命周期函数或者作用域下为异步，在原生的环境下为同步。</p></details> <details><summary><h3 id="使用-react-hooks-好处是啥"><a href="#使用-react-hooks-好处是啥" class="header-anchor">#</a> 使用 React Hooks 好处是啥？</h3></summary> <ul><li>使你在无需修改组件结构的情况下复用状态逻辑</li> <li>将组件中相互关联的部分拆分成更小的函数</li> <li>在非 class 的情况下可以使用更多的 React 特性</li></ul></details></div></div> <div class="page-slot page-slot-bottom"><!-- 横向自适应 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=%E9%9D%A2%E8%AF%95" title="标签">#面试</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021/10/31, 23:21:32</span></div></div> <div class="page-nav-wapper"><!----> <!----></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/26f37c/"><div>node-sass 安装问题</div></a> <span>09-12</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:bem.zhao@foxmail.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/bemzhao" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://twitter.com/bemzhao" title="推特" target="_blank" class="iconfont icon-twitter"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2021
    <span>bemzhao | <a href="https://github.com/bemzhao/vuepress-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><i class="close-but">×</i> <div><!-- 固定160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;max-width:160px;max-height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.8d441818.js" defer></script><script src="/assets/js/2.8b5db16f.js" defer></script><script src="/assets/js/3.d57516cd.js" defer></script><script src="/assets/js/11.f5f1a4dd.js" defer></script>
  </body>
</html>